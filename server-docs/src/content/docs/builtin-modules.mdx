---
title: Built-in Modules
description: Pre-built gameplay systems
---

## Overview

Hytale includes **48 built-in plugins** in `com.hypixel.hytale.builtin` and `com.hypixel.hytale.server`. These provide complete gameplay systems you can use, extend, or learn from.

## Complete Plugin List

### Core Systems

| Plugin | Main Class | Description |
|--------|------------|-------------|
| `NPC` | `NPCPlugin` | Core NPC framework with AI, combat, behaviors |
| `Spawning` | `SpawningPlugin` | Entity spawn controllers (sub-plugin of NPC) |
| `Flock` | `FlockPlugin` | Group AI behavior (sub-plugin of NPC) |
| `HytaleGenerator` | `HytaleGenerator` | Procedural world generation |
| `WorldGen` | `WorldGenPlugin` | World generation utilities |
| `TagSet` | `TagSetPlugin` | Entity/item tag system |
| `Model` | `ModelPlugin` | 3D model management |

### Block Systems

| Plugin | Main Class | Description |
|--------|------------|-------------|
| `BlockTick` | `BlockTickPlugin` | Block update scheduling |
| `BlockPhysics` | `BlockPhysicsPlugin` | Gravity/support simulation |
| `BlockSpawner` | `BlockSpawnerPlugin` | Block-triggered spawning |
| `Fluid` | `FluidPlugin` | Water/lava flow |

### Movement Mechanics

| Plugin | Main Class | Description |
|--------|------------|-------------|
| `Mantling` | `MantlingPlugin` | Ledge climbing |
| `SafetyRoll` | `SafetyRollPlugin` | Fall damage reduction roll |
| `SprintForce` | `SprintForcePlugin` | Sprint acceleration/deceleration |
| `CrouchSlide` | `CrouchSlidePlugin` | Crouch-slide movement |
| `Parkour` | `ParkourPlugin` | Timer and checkpoint system |

### Tools & Editors

| Plugin | Main Class | Description |
|--------|------------|-------------|
| `BuilderTools` | `BuilderToolsPlugin` | Prefab editor tools |
| `AssetEditor` | `AssetEditorPlugin` | In-game asset editor |
| `NPCEditor` | `NPCEditorPlugin` | NPC editing tools |
| `CommandMacro` | `MacroCommandPlugin` | Command macro system |

### Adventure Systems

| Plugin | Main Class | Description |
|--------|------------|-------------|
| `Objectives` | `ObjectivePlugin` | Quest/objective system |
| `NPCObjectives` | `NPCObjectivesPlugin` | NPC-given objectives |
| `ObjectiveReputation` | `ObjectiveReputationPlugin` | Reputation from objectives |
| `ObjectiveShop` | `ObjectiveShopPlugin` | Shop objectives |
| `Reputation` | `ReputationPlugin` | Reputation tracking |
| `NPCReputation` | `NPCReputationPlugin` | NPC reputation integration |
| `Shop` | `ShopPlugin` | Item shop system |
| `ShopReputation` | `ShopReputationPlugin` | Reputation-based shops |
| `NPCShop` | `NPCShopPlugin` | NPC shop integration |
| `Stash` | `StashPlugin` | Player storage |
| `Memories` | `MemoriesPlugin` | Player memory storage |

### World Features

| Plugin | Main Class | Description |
|--------|------------|-------------|
| `Weather` | `WeatherPlugin` | Weather system |
| `Ambience` | `AmbiencePlugin` | Environmental audio/effects |
| `Farming` | `FarmingPlugin` | Crop/animal farming |
| `Portals` | `PortalsPlugin` | Portal mechanics |
| `Teleport` | `TeleportPlugin` | Teleportation core |
| `Teleporter` | `TeleporterPlugin` | Teleporter blocks |
| `Beds` | `BedsPlugin` | Bed/sleep mechanics |

### Gameplay

| Plugin | Main Class | Description |
|--------|------------|-------------|
| `Crafting` | `CraftingPlugin` | Crafting benches/recipes |
| `Mounts` | `MountPlugin` | Mount/riding system |
| `NPCCombatActionEvaluator` | `NPCCombatActionEvaluatorPlugin` | NPC combat AI |
| `Deployables` | `DeployablesPlugin` | Deployable items |
| `Camera` | `CameraPlugin` | Camera effects |

### Infrastructure

| Plugin | Main Class | Description |
|--------|------------|-------------|
| `Instances` | `InstancesPlugin` | Instanced worlds |
| `CreativeHub` | `CreativeHubPlugin` | Creative mode hub |
| `LANDiscovery` | `LANDiscoveryPlugin` | LAN server discovery |
| `Path` | `PathPlugin` | Pathfinding system |
| `WorldLocationCondition` | `WorldLocationConditionPlugin` | Location-based conditions |

## Plugin Architecture

All plugins extend `JavaPlugin`:

```kotlin
class MyPlugin(init: JavaPluginInit) : JavaPlugin(init) {
    override fun setup() {
        // Register components, systems, events
    }

    override fun start() {
        // Initialize assets, state
    }

    override fun shutdown() {
        // Cleanup
    }
}
```

## Key Integration Points

### Component Registration

```kotlin
// Entity components
getEntityStoreRegistry().registerComponent(MyComponent::class.java)

// Chunk components
getChunkStoreRegistry().registerComponent(MyChunkComponent::class.java)
```

### System Registration

```kotlin
// Ticking system
getEntityStoreRegistry().registerSystem(MyTickingSystem())

// Holder system (component additions)
getEntityStoreRegistry().registerSystem(MyHolderSystem())
```

### Asset Registration

```kotlin
HytaleAssetStore.builder(MyAsset::class.java, DefaultAssetMap())
    .setPath("Path/To/Assets")
    .setCodec(MyAsset.CODEC)
    .loadsAfter(DependencyAsset::class.java)
    .build()
```

## Crafting System

**Components:**
- `CraftingManager` - Per-player crafting state
- `BenchState` - Block-level bench state
- `ProcessingBenchState` - Processing bench variant

**Features:**
- Bench types: Simple, Diagram, Structural
- Recipe learning stored in `PlayerConfigData`
- Dynamic recipe generation
- Bench upgrades with material costs

## Mounts System

**Components:**
- `NPCMountComponent` - NPC as mountable
- `MountedComponent` - Entity currently mounted
- `MountedByComponent` - Entity being ridden
- `MinecartComponent` - Minecart data
- `BlockMountComponent` - Block seating

**Systems (11 registered):**
- `NPCMountSystems.OnAdd` - Initialize NPC mount
- `MountSystems.PlayerMount` - Track mounting
- `MountSystems.HandleMountInput` - Route input
- `MountSystems.TrackerUpdate` - Network sync

## Objectives System

**Components:**
- `ObjectiveHistoryComponent` - Completion history
- `ReachLocationMarker` - Navigation markers

**Task Types:**
- `CraftObjectiveTask` - Craft items
- `GatherObjectiveTask` - Collect items
- `UseBlockObjectiveTask` - Interact with blocks
- `ReachLocationTask` - Navigate to location
- `TreasureMapObjectiveTask` - Hunt treasure

**Features:**
- 5-minute auto-save via `ScheduledExecutor`
- Network sync via `TrackOrUpdateObjective` packets
- Per-world `ObjectiveGameplayConfig`

## Block Physics

- `MAX_SUPPORT_RADIUS = 14` blocks
- Gravity-affected block detection
- `CachedAccessor` for multi-chunk queries
- Runs after `ChunkBlockTickSystem.PreTick`

## Farming System

**Components:**
- `TilledSoilBlock` - Tilled soil state
- `FarmingBlock` - Growing crop state
- `CoopBlock` - Animal coop state

**Features:**
- Growth stages with `FarmingStageData`
- Fertilizer via `GrowthModifierAsset`
- Water/light requirements
- Spread mechanics for vines

## Portals System

**Components:**
- `PortalDevice` - Teleporter pad
- `VoidEvent` - Void invasion data
- `VoidSpawner` - Spawner config

**Features:**
- `MAX_CONCURRENT_FRAGMENTS = 4`
- Curse system for item drops
- Dynamic portal cleanup
- `PortalMarkerProvider` for maps

## NPC Combat AI

**Components:**
- `CombatActionEvaluator` - Decision AI
- `TargetMemory` - Enemy tracking
- `DamageMemory` - Damage history

**Features:**
- Utility-based decision making
- Chainable attacks (ranged/melee)
- Memory-based target selection
- Cooldown management

## Common Patterns

### RefSystem Pattern

```kotlin
abstract class RefSystem<T : Store> {
    abstract fun getQuery(): Query<T>
    abstract fun onEntityAdded(ref: Ref<T>, reason: AddReason, ...)
    abstract fun onEntityRemove(ref: Ref<T>, reason: RemoveReason, ...)
}
```

### Ticking System Pattern

```kotlin
abstract class EntityTickingSystem<T : Store> {
    abstract fun getQuery(): Query<T>
    abstract fun getDependencies(): Set<Dependency<T>>
    abstract fun tick(dt: Float, index: Int, chunk: ArchetypeChunk<T>, ...)
}
```

### Asset Registration Pattern

```kotlin
HytaleAssetStore.builder(AssetClass::class.java, DefaultAssetMap())
    .setPath("Path/To/Assets")
    .setCodec(AssetCodec.CODEC)
    .loadsAfter(DependencyClass::class.java)
    .setKeyFunction { it.id }
    .build()
```

## HytaleGenerator (World Generation)

The procedural world generation system used for Hytale's terrain.

**Location:** `com.hypixel.hytale.builtin.hytalegenerator.plugin`

**Features:**
- Multi-biome terrain generation
- Cave and structure placement
- Noise-based height maps
- Feature decorators (trees, ores, etc.)

**Key Classes:**
- `HytaleGenerator` - Main plugin entry
- `GeneratorContext` - Generation context data
- `BiomeProvider` - Biome selection
- `NoiseProvider` - Noise generation

## NPC System

The core NPC framework with AI, behaviors, and combat.

**Location:** `com.hypixel.hytale.server.npc`

**Components:**
- `Blackboard` - AI state storage
- `StateEvaluator` - Decision making
- `NPCEntityEventSupport` - Event handling
- `BeaconSupport` - Beacon awareness
- `Timers` - Timer management

**Sub-Plugins:**

### Spawning System

**Location:** `com.hypixel.hytale.server.spawning`

Controls when and where entities spawn.

**Components:**
- `SpawnMarkerEntity` - Spawn point marker
- `LocalSpawnBeacon` - Area spawn beacon
- `LocalSpawnController` - Spawn controller
- `SpawnSuppressionComponent` - Prevent spawning

**Resources:**
- `LocalSpawnState` - Current spawn state
- `WorldSpawnData` - World-level spawn data

### Flock System

**Location:** `com.hypixel.hytale.server.flock`

Group AI behavior for NPCs that move together.

**Components:**
- `Flock` - Flock membership data
- `FlockMembership` - Individual member data
- `PersistentFlockData` - Saved flock state

**Usage:**
```kotlin
// Check if NPC is in a flock
val flock = store.getComponent(ref, FlockComponentType)
if (flock != null) {
    val flockId = flock.flockId
    val leaderRef = flock.leader
}
```

## Path System

Pathfinding for NPC navigation.

**Location:** `com.hypixel.hytale.builtin.path`

**Components:**
- `WorldPathBuilder` - Path construction
- `WorldPathData` (Resource) - Path network data

**Events:**
- `WorldPathChangedEvent` - Path network updated

## CommandMacro System

Execute multiple commands from a single trigger.

**Location:** `com.hypixel.hytale.builtin.commandmacro`

**Usage:**
```kotlin
// Define a macro that runs multiple commands
// Macros can be triggered by player actions or other events
```

## TagSet System

Tag entities and items for filtering and grouping.

**Location:** `com.hypixel.hytale.builtin.tagset`

**Usage:**
```kotlin
// Tags allow filtering entities by categories
// e.g., "hostile", "friendly", "resource"
```

## Instances System

Create isolated world instances for dungeons, minigames, etc.

**Location:** `com.hypixel.hytale.builtin.instances`

**Components:**
- `InstanceEntityConfig` - Per-entity instance config
- `InstanceDataResource` - Instance state

**Features:**
- Template-based instance creation
- Automatic cleanup on completion
- Player group isolation

## Plugin Dependencies

Plugins declare dependencies in `manifests.json`:

```json
{
  "Group": "Hytale",
  "Name": "MyPlugin",
  "Version": "1.0.0",
  "Main": "com.example.MyPlugin",
  "Dependencies": {
    "Hytale:NPC": "*",
    "Hytale:EntityModule": "*"
  },
  "OptionalDependencies": {
    "Hytale:Objectives": "*"
  },
  "SubPlugins": [
    {
      "Name": "SubFeature",
      "Main": "com.example.SubFeaturePlugin"
    }
  ]
}
```

## See Also

- [Your First Plugin](/your-first-plugin) - Creating plugins
- [ECS Components](/ecs-components) - Component system
- [Advanced ECS](/advanced-ecs) - Advanced patterns
